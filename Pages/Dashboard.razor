@page "/dashboard"
@layout DashboardLayout

<PageTitle>Dashboard Afiliado</PageTitle>

<div class="dashboard-container">
    <div class="dropdown-container">
        <select @onchange="CambiarColor">
            <option value="default">Seleccionar Color</option>
            <option value="blue">Azul</option>
            <option value="green">Verde</option>
            <option value="red">Rojo</option>
        </select>
    </div>

    <div class="content-container" style="@GetBackgroundColor()">
        <h1>Bienvenido a tu Dashboard de Afiliado</h1>
        <div class="link-section">
            <p role="status">Enlace generado: <a href="http://localhost:5134/?ref=link100%realNoFakeLinkenMegaUpload.com" target="_blank">http://localhost:5134/?ref=link100%realNoFakeLinkenMegaUpload.com</a></p>
        </div>
        <div class="metrics-container">
            <h2>Métricas de Registro</h2>
            <p>Personas registradas a través del enlace: 42</p>
        </div>
    </div>
</div>

@code {
    private string selectedColor = "";

    private void CambiarColor(ChangeEventArgs e)
    {
        selectedColor = e.Value?.ToString() ?? "default";
    }

    private string GetBackgroundColor()
    {
        return selectedColor switch
        {
            "blue" => "background-color: #3498db; color: white;",
            "green" => "background-color: #2ecc71; color: white;",
            "red" => "background-color: #e74c3c; color: white;",
            _ => "", // Deja el estilo predeterminado
        };
    }
}
